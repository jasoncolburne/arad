[arad](../../../../) / [documentation](../) / [development](./)

# Setup

## Pre-requisites
- bash
- docker

## Setup

The `nuke` command can be leveraged to setup your local environment.

```
./local nuke
```

## Running
```
./local up
```

With your docker-compose services running, try navigating to `http://localhost`. We'll turn TLS 1.3 on before moving to
production. If you want to see the backend APIs, there is live documentation available at `http://localhost` on ports
`8000`-`8003` at `/docs`. Check out `http://localhost/8003/docs` to see the `identity` api documentation.

- `administrator` - `8000`
- `reviewer` - `8001`
- `reader` - `8002`
- `identity` - `8003`

You can edit any code, front-end or back-end, and it should live-update. Just remember to sync if you edit something in
`be-common`.

These steps are confirmed to work on MacOS Monterey/Intel and Ubuntu 20.04.4/WSL2 on Windows 10. Please reach out if
you run into problems so that we can update this page with requirements and steps for other systems.

## Convenience

There are a few scripts at the top of the repository that provide convenience methods for developers.

### Local Script

This script provides the ability to interact with the local stack.

#### build

This will build your docker images. It is required before `up`.

```
./local build
```

#### up

This starts a development stack. Healthchecks at each layer block the next from starting. Read docker-compose.yml for
more information.

```
./local up
```

#### down

This stops a development stack from another terminal, and removes the stack's containers if run a second time.

```
./local down
```

#### relock

This will update all the poetry.lock files in the backend. Warning: test well if you use this. Updating individual
solitary dependencies as required is much safer.

```
./local relock
```

#### be-exec

This will execute a command in all backend services.

```
./local be-exec poetry env info
```

#### prune

This will clean up some intermediate Docker images.

```
./local prune
```

#### rm

This will remove containers spawned by docker run without the --rm parameter.

```
./local rm
```

#### types

This will fetch type information from the OpenAPI definitions generated by the back-end and create types in the
front-end.

```
./local types
```

#### nuke

This command will reset a local Arad stack, recreating the database.

```
./local nuke
```
